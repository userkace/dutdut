<!DOCTYPE html>
<html lang='en' id='html'>
<head>
     <meta charset="UTF-8">
     <meta name="description" content="A Computer Science student here, let's get to know each other!">
     <meta name="keywords" content="Python,Java,C++,HTML,CSS,JS,Javascript,Programmer,Developer,Kervin,Clyde,Padilla,userkace">
     <meta name="author" content="Kervin Padilla">
     <meta name="revised" content="Kervin Padilla, 2/1/2024">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">

     <title>dutÂ²</title>

     <link rel="shortcut icon" href="./media/love.ico" type="image/x-icon">
     <link rel="stylesheet" href="./style.css">

</head>
<body id="body">
<p id="countdown">5</p>
<p id="score">Score: 0</p>
<p id="high">Highscore: 0</p>
<div id="wrap">
     <img id="1" style="opacity:0;"src="./media/valentine.gif" alt="valentine gif">
     <div id="button-wrap">
          <button id="myButton"></button>
     </div>
</div>


</body>

<script>
     var score = 0; // Initialize score
     var timeLeft = 5;
     const myButton = document.getElementById("myButton");
     const html = document.getElementById("html");
     const uno = document.getElementById("1");
     
     var intervalId; // Declare intervalId outside

          // Function to start the countdown
          function startCountdown() {
          if (intervalId) {
          clearInterval(intervalId); // Clear any existing interval before starting
          }
          intervalId = setInterval(function() {
          timeLeft--;
          document.getElementById("countdown").textContent = timeLeft;

          if (timeLeft <= 0) {
               clearInterval(intervalId);
               alert("Time's up! Your score is " + score);
               high = score
               document.getElementById("high").textContent = "Highscore: " + high;
               score = 0;
               document.getElementById("score").textContent = "Score: " + score;
               html.style.backgroundColor = "#f5aeb8";
               uno.style.opacity = "0"; //keep invisible for now
               uno.style.position = "relative";
               myButton.style.position = "relative";
               myButton.style.left = 0 + "px";
               myButton.style.top = 0 + "px";
          }
          }, 1000);
          }

     

     myButton.addEventListener("click", () => {


     timeLeft = 5;
     startCountdown();

     score++; // Increase score when countdown ends
     document.getElementById("score").textContent = "Score: " + score;

     const wrap = document.getElementById("body");  // Get the containing element
     const wrapWidth = wrap.offsetWidth;  // Get the width of the containing element
     const wrapHeight = wrap.offsetHeight; // Get the height of the containing element

     // Generate random coordinates within the containing element's boundaries
     const randomX = Math.random() * (wrapWidth - myButton.offsetWidth);
     const randomY = Math.random() * (wrapHeight - myButton.offsetHeight);

     // Set the button's position using absolute coordinates
     myButton.style.position = "absolute";
     myButton.style.left = randomX + "px";
     myButton.style.top = randomY + "px";
     html.style.backgroundColor = "#FFFFFF";
     uno.style.opacity = "0";
     uno.style.position = "absolute";
     });
   </script>

</html>